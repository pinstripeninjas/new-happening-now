(this["webpackJsonpnew-happening-now"]=this["webpackJsonpnew-happening-now"]||[]).push([[0],{100:function(e,t,n){e.exports=n(145)},143:function(e,t,n){},144:function(e,t,n){},145:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(45),i=n.n(o),l=n(15),c=n(44),u=n(64),s=[{title:"Blowing Dust",wording:"Blowing Dust",isChecked:!1,icon:"wi wi-dust weather-icon"},{title:"Burn Scar",wording:"Debris Flow",isChecked:!1,icon:"wi wi-flood weather-icon"},{title:"Hail",wording:"Small Hail",isChecked:!1,icon:"wi wi-hail weather-icon"},{title:"Heavy Rain",wording:"Heavy Rain",isChecked:!1,icon:"wi wi-raindrop weather-icon"},{title:"Lightning",wording:"Frequent Lightning",isChecked:!1,icon:"wi wi-lightning weather-icon"},{title:"Wind Gusts",wording:"Gusty Winds",isChecked:!1,icon:"wi wi-strong-wind weather-icon"}],m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_OPTION":return[].concat(Object(u.a)(e),[t.payload]);default:return e}},p=n(40),d=n(51),h={windDirection:0,windSpeed:0},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_STORM_MOTION":return Object(d.a)(Object(d.a)({},e),{},Object(p.a)({},t.payload.element,t.payload.value));default:return e}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPTION_CLICKED":return e.includes(t.payload)?e.filter((function(e){return e!==t.payload})):[].concat(Object(u.a)(e),[t.payload]);default:return e}},b={currentUser:null},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(d.a)(Object(d.a)({},e),{},{currentUser:t.payload});default:return e}},f=Object(c.c)({options:m,optionClicked:E,stormMotion:g,user:w}),v=n(27),O=n(28),C=n(30),y=n(29),S=n(43),j=n(167),k=n(63),x=n(12),T=n(53),I=n.n(T);n(109),n(113);I.a.initializeApp({apiKey:"AIzaSyBsRSXvo7Ous3dDuMSomlDnifhFWpvkkqc",authDomain:"happening-now-f7e8c.firebaseapp.com",databaseURL:"https://happening-now-f7e8c.firebaseio.com",projectId:"happening-now-f7e8c",storageBucket:"happening-now-f7e8c.appspot.com",messagingSenderId:"297348080409",appId:"1:297348080409:web:475213abfc9b17fdd6db88",measurementId:"G-4T4RXVT8M2"});var A=I.a.auth(),_=I.a.firestore(),D=new I.a.auth.GoogleAuthProvider;D.setCustomParameters({prompt:"select_account"});var M=function(){return A.signInWithPopup(D)},z=(I.a,n(3)),U=n(151),N=n(163),R=function(e){return{type:"SET_CURRENT_USER",payload:e}},P=Object(l.b)((function(e){return{currentUser:e.user.currentUser}}),{setCurrentUser:R})((function(e){var t=e.currentUser,n=e.setCurrentUser;return r.a.createElement(z.a,{borderBottom:"1px",borderColor:"gray.200",p:3,display:"flex",alignItems:"center"},r.a.createElement(U.a,null,"Happening Now Creator"),t?r.a.createElement(N.a,{marginLeft:"auto",as:"button",variantColor:"blue"},r.a.createElement(k.b,{to:"/",onClick:function(){A.signOut(),n(null)}},"Sign Out")):null)})),W=n(152),F=n(153),B=function(e){return r.a.createElement(z.a,{pos:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",border:"1px",rounded:"md",borderColor:"gray.200",boxShadow:"md",w:400,p:10},r.a.createElement(U.a,{fontSize:"2xl",textAlign:"center"},"Let's get started..."),r.a.createElement(W.a,{my:4}),r.a.createElement(N.a,{w:"100%",variantColor:"blue",onClick:M},"Sign With Google"),e.invalidEmail?r.a.createElement(F.a,{textAlign:"center",color:"red.500",my:3},"This Account Is Not Authorized"):null)},G=n(154),H=n(35),L=n(55),V=n(165),J=n(155),X=n(156),K=n(99),q=Object(l.b)((function(e){return{windSpeed:e.stormMotion.windSpeed,windDirection:e.stormMotion.windDirection}}))((function(e){var t=e.windSpeed,n=e.windDirection;return r.a.createElement(z.a,{position:"absolute",bottom:"0",left:"0",p:5,w:"100%"},r.a.createElement(U.a,{color:"gray.200",fontSize:"2xl"},"Storm Motion:"),r.a.createElement(W.a,null),r.a.createElement(G.a,{isInline:!0,align:"center"},0===t?r.a.createElement(F.a,{color:"gray.200",fontSize:"3xl",fontWeight:"bold"},"Nearly Stationary"):r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{color:"gray.200",fontSize:"4xl",fontWeight:"bold"},"".concat(t," mph")),r.a.createElement(z.a,{as:K.a,size:"70px",color:"gray.200",transform:"rotate(".concat(n,"deg)")}))))})),Q=function(e){Object(C.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(v.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={center:[32.2,-111],zoom:8},e.getIndex=function(t){for(var n=0;n<e.props.options.length;n++)if(e.props.options[n].title===t)return n},e.fillActions=function(){return 0!==e.props.optionClicked.length?e.props.optionClicked.map((function(t,n){var a=e.getIndex(t);return r.a.createElement(G.a,{key:n,isInline:!0,spacing:2,align:"center"},r.a.createElement(z.a,{textAlign:"center",w:"80px"},"warning"===e.props.options[a].icon?r.a.createElement(H.a,{name:"warning",m:"10px",size:"30px",color:"gray.200"}):r.a.createElement("i",{className:e.props.options[a].icon})),r.a.createElement(F.a,{color:"gray.200",fontSize:"xl"},e.props.options[a].wording))})):null},e}return Object(O.a)(n,[{key:"render",value:function(){return r.a.createElement(z.a,{id:"capture",boxShadow:"md",w:1e3,h:500},r.a.createElement(L.a,{h:"100%"},r.a.createElement(z.a,{w:425,h:"100%",position:"relative",p:5,bg:"#0099D8"},r.a.createElement(U.a,{textAlign:"center",color:"gray.200"},"Happening Now"),r.a.createElement(W.a,null),r.a.createElement(G.a,null,this.fillActions()),r.a.createElement(q,null)),r.a.createElement(z.a,{h:"100%",w:"100%"},r.a.createElement(V.a,{center:this.state.center,zoom:this.state.zoom,zoomControl:!1},r.a.createElement(J.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',crossOrigin:"",url:"https://api.mapbox.com/styles/v1/robhowlett/ckcun9dwf3ele1iohl7rjelfv/tiles/256/{z}/{x}/{y}@2x?access_token=pk.eyJ1Ijoicm9iaG93bGV0dCIsImEiOiJja2RtMnB0bHIwOTNhMnpwOG96bTNuc3d5In0.gmFvk06PbmiibW_w7kNeuA"}),r.a.createElement(X.a,{url:"https://nowcoast.noaa.gov/arcgis/services/nowcoast/radar_meteo_imagery_nexrad_time/MapServer/WMSServer?",layers:"1",format:"image/png",transparent:"true",opacity:".6",crossOrigin:""})))))}}]),n}(r.a.Component),Y=Object(l.b)((function(e){return{options:e.options,optionClicked:e.optionClicked}}))(Q),Z=n(93),$=n(164),ee=Object(l.b)((function(e){return{options:e.options}}),{optionClicked:function(e){return{type:"OPTION_CLICKED",payload:e}}})((function(e){var t=function(t){e.optionClicked(t.target.value)};return r.a.createElement(L.a,{w:"100%",wrap:"wrap"},e.options.map((function(e,n){return r.a.createElement($.a,{key:n,w:"50%",my:1,size:"md",value:e.title,onChange:t},e.title)})))})),te=n(96),ne=n(50),ae=function(e){Object(C.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(v.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={optionTitle:"",optionContent:""},e.handleOptionChange=function(t){e.setState(Object(p.a)({},t.target.name,t.target.value))},e.handleAddOption=function(t){t.preventDefault(),e.props.createOption(e.state.optionTitle,e.state.optionContent),e.setState({optionTitle:"",optionContent:""})},e}return Object(O.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(z.a,{h:"40%"},r.a.createElement(F.a,{fontWeight:"semibold"},"Add Custom Option:"),r.a.createElement("form",{onSubmit:function(t){return e.handleAddOption(t)}},r.a.createElement(te.a,null,r.a.createElement(G.a,{spacing:3},r.a.createElement(ne.a,{type:"text",name:"optionTitle",placeholder:"Name",value:this.state.optionTitle,size:"sm",w:"none",onChange:this.handleOptionChange}),r.a.createElement(ne.a,{type:"text",name:"optionContent",placeholder:"Content",value:this.state.optionContent,size:"sm",w:"none",onChange:this.handleOptionChange}),r.a.createElement(N.a,{type:"submit",variant:"outline",variantColor:"blue",size:"sm"},"Add Item")))))}}]),n}(r.a.Component),re=Object(l.b)(null,{createOption:function(e,t){return{type:"CREATE_OPTION",payload:{title:e,wording:t,isChecked:!1,icon:"warning"}}}})(ae),oe=n(166),ie=n(162),le=n(157),ce=function(e){Object(C.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(v.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleStormMotion=function(t,n){e.props.updateStormMotion(t,n)},e}return Object(O.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(z.a,{h:"10%"},r.a.createElement(G.a,{isInline:!0,align:"center"},r.a.createElement(F.a,{fontWeight:"semibold"},"Storm Motion:"),r.a.createElement(oe.a,{size:"sm"},r.a.createElement(ie.a,{clampValueOnBlur:!0,value:this.props.windDirection,min:0,max:360,w:60,onChange:function(t){return e.handleStormMotion(t,"windDirection")}},r.a.createElement(ie.b,null)),r.a.createElement(le.a,{children:"deg"})),r.a.createElement(oe.a,{size:"sm"},r.a.createElement(ie.a,{clampValueOnBlur:!0,value:this.props.windSpeed,min:0,max:75,w:50,onChange:function(t){return e.handleStormMotion(t,"windSpeed")}},r.a.createElement(ie.b,null)),r.a.createElement(le.a,{children:"mph"}))))}}]),n}(r.a.Component),ue=Object(l.b)((function(e){return{windSpeed:e.stormMotion.windSpeed,windDirection:e.stormMotion.windDirection}}),{updateStormMotion:function(e,t){return{type:"UPDATE_STORM_MOTION",payload:{value:e,element:t}}}})(ce),se=function(){return r.a.createElement(z.a,{mt:8,border:"1px",rounded:"md",borderColor:"gray.200",boxShadow:"md",w:350,h:500},r.a.createElement(L.a,{direction:"column",p:5,h:"100%",justify:"space-between"},r.a.createElement(z.a,{h:"50%"},r.a.createElement(U.a,{mb:0,textAlign:"center"},"Text Options"),r.a.createElement(W.a,{mx:0}),r.a.createElement(ee,null)),r.a.createElement(re,null),r.a.createElement(ue,null)))},me=n(160),pe=n(161),de=n(158),he=n(159),ge=function(e){Object(C.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(v.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={postContent:"",twitterTags:"#azwx"},e.handleChange=function(t){e.setState(Object(p.a)({},t.target.name,t.target.value))},e}return Object(O.a)(n,[{key:"render",value:function(){var e=this.state.postContent.length+this.state.twitterTags.length+1;return r.a.createElement(z.a,null,r.a.createElement(de.a,{mb:5},r.a.createElement($.a,{value:"twitter"},"Twitter"),r.a.createElement($.a,{value:"facebook"},"Facebook"),r.a.createElement($.a,{value:"webpage"},"Webpage")),r.a.createElement(G.a,{isInline:!0,justify:"space-between"},r.a.createElement(F.a,null,"Post Content:"),r.a.createElement(F.a,{color:e<=280?"gray.500":"red.500"},"Character Count: ",e)),r.a.createElement(he.a,{h:"150px",mb:5,name:"postContent",value:this.state.postContent,onChange:this.handleChange}),r.a.createElement(F.a,null,"Twitter Hashtags:"),r.a.createElement(ne.a,{name:"twitterTags",value:this.state.twitterTags,onChange:this.handleChange}))}}]),n}(r.a.Component),Ee=function(){var e=Object(me.a)(),t=e.isOpen,n=e.onOpen,a=e.onClose;return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{d:"block",mx:4,my:8,variant:"outline",variantColor:"blue",size:"lg",onClick:n},"Proceed to Send Graphic"),r.a.createElement(pe.a,{isOpen:t,onClose:a},r.a.createElement(pe.g,null),r.a.createElement(pe.d,null,r.a.createElement(pe.f,null,"Edit Post Content"),r.a.createElement(pe.c,null),r.a.createElement(pe.b,null,r.a.createElement(ge,null)),r.a.createElement(pe.e,null,r.a.createElement(N.a,{variantColor:"blue",onClick:function(){console.log("Submitted"),a()}},"Send Final Post")))))},be=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,{justifyContent:"space-evenly",wrap:"wrap-reverse",mt:12},r.a.createElement(se,null),r.a.createElement(Y,null)),r.a.createElement(L.a,{justifyContent:"center"},r.a.createElement(N.a,{d:"block",mx:4,my:8,variantColor:"blue",size:"lg",onClick:function(){var e=document.getElementById("capture");Object(Z.a)(e,{filename:"happening now",printDate:!0})}},"Download Image"),r.a.createElement(Ee,null)))},we=(n(143),n(144),function(e){Object(C.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(v.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={invalidEmail:!1},e.unsubscribeFromAuth=null,e}return Object(O.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.setCurrentUser;this.unsubscribeFromAuth=A.onAuthStateChanged((function(n){_.doc("validUser/validEmail").get().then((function(a){var r=a.data();n&&r.email.includes(n.email)?(t(n),e.setState({invalidEmail:!1})):n&&!r.email.includes(n.email)&&(A.signOut(),e.setState({invalidEmail:!0}))}))}))}},{key:"componentWillUnmount",value:function(){this.unsubscribeFromAuth()}},{key:"render",value:function(){var e=this;return r.a.createElement(S.a,null,r.a.createElement(j.a,null),r.a.createElement(k.a,{basename:"/"},r.a.createElement(P,null),r.a.createElement(x.b,{exact:!0,path:"/"},this.props.currentUser?r.a.createElement(x.a,{to:"/happening-now"}):r.a.createElement(B,{invalidEmail:this.state.invalidEmail})),r.a.createElement(x.b,{exact:!0,path:"/happening-now",render:function(){return e.props.currentUser?r.a.createElement(be,null):r.a.createElement(x.a,{to:"/"})}})))}}]),n}(r.a.Component)),fe=Object(l.b)((function(e){return{currentUser:e.user.currentUser}}),{setCurrentUser:R})(we),ve=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.d,Oe=Object(c.e)(f,ve(Object(c.a)())),Ce=document.getElementById("root");i.a.render(r.a.createElement(l.a,{store:Oe},r.a.createElement(fe,null)),Ce)}},[[100,1,2]]]);
//# sourceMappingURL=main.e4facf74.chunk.js.map